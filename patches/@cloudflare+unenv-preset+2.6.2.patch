diff --git a/node_modules/@cloudflare/unenv-preset/dist/runtime/node/module.mjs b/node_modules/@cloudflare/unenv-preset/dist/runtime/node/module.mjs
index c54d05e..fixed000 100644
--- a/node_modules/@cloudflare/unenv-preset/dist/runtime/node/module.mjs
+++ b/node_modules/@cloudflare/unenv-preset/dist/runtime/node/module.mjs
@@ -25,6 +25,8 @@ import {
   syncBuiltinESMExports,
   wrap
 } from "unenv/node/module";
+
+import { fileURLToPath } from "url";
 
 export {
   Module,
   SourceMap,
@@ -51,20 +53,26 @@ export {
   syncBuiltinESMExports,
   wrap
 } from "unenv/node/module";
+
+// Fix for Cloudflare deployment: ensure 'file' is never undefined
 const workerdModule = process.getBuiltinModule("node:module");
-export const createRequire = (file) => {
-  const path = file ?? new URL(import.meta.url);
-  return Object.assign(workerdModule.createRequire(path), {
+export const createRequire = (file) => {
+  const path = file ? file : fileURLToPath(import.meta.url);
+  return Object.assign(workerdModule.createRequire(path), {
     resolve: Object.assign(
-      notImplemented("module.require.resolve"),
-      { paths: notImplemented("module.require.resolve.paths") }
+      notImplemented("module.require.resolve"),
+      {
+        paths: notImplemented("module.require.resolve.paths")
+      }
     ),
-    cache: Object.create(null),
-    extensions: _extensions,
-    main: undefined
+    cache: Object.create(null),
+    extensions: _extensions,
+    main: undefined
   });
 };
+
 export default {
   Module,
   SourceMap,
